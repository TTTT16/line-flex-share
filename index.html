<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <title>LINE Flex Share</title>
  </head>
  <body class="flex items-center justify-center h-screen bg-gray-900">
    <button id="share-btn" class="text-white bg-yellow-500 hover:bg-yellow-600 font-bold py-3 px-6 rounded text-lg">
      üéÅ ‡πÅ‡∏ä‡∏£‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏•‡∏¢
    </button>

    <script>
      async function shareFlex() {
        try {
          await liff.shareTargetPicker([
            {
              type: "flex",
              altText: "üëâ ‡∏°‡∏µ‡πÅ‡∏à‡∏Å‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏ü‡∏£‡∏µ ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô üëà",
              contents: {
                type: "carousel",
                contents: [
                  {
                    type: "bubble",
                    size: "giga",
                    hero: {
                      type: "image",
                      size: "full",
                      aspectMode: "fit",
                      url: "https://www.i-pic.info/i/B8Jj1088785.png",
                      aspectRatio: "6:5",
                      margin: "none",
                      backgroundColor: "#000000"
                    },
                    body: {
                      type: "box",
                      layout: "vertical",
                      spacing: "sm",
                      contents: [
                        {
                          type: "text",
                          text: "üëâ‡∏°‡∏µ‡πÅ‡∏à‡∏Å‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏ü‡∏£‡∏µ ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ôüëà",
                          wrap: true,
                          weight: "bold",
                          size: "lg",
                          gravity: "center",
                          align: "center",
                          color: "#FFD700"
                        },
                        {
                          type: "text",
                          text: "üíØ ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô üíØ",
                          wrap: true,
                          weight: "bold",
                          size: "lg",
                          gravity: "center",
                          align: "center",
                          color: "#FFD700"
                        }
                      ],
                      backgroundColor: "#000000"
                    },
                    footer: {
                      type: "box",
                      layout: "vertical",
                      spacing: "sm",
                      contents: [
                        {
                          type: "button",
                          style: "primary",
                          action: {
                            type: "uri",
                            label: "‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å",
                            uri: "https://mudeng888.com/register"
                          },
                          color: "#B22222"
                        },
                        {
                          type: "button",
                          style: "primary",
                          action: {
                            type: "uri",
                            label: "‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°",
                            uri: "https://lin.ee/PvPDNW3"
                          },
                          color: "#0055ff"
                        },
                        {
                          type: "button",
                          style: "primary",
                          action: {
                            type: "uri",
                            label: "‡πÅ‡∏ä‡∏£‡πå",
                            uri: "https://liff.line.me/2007650929-ay3qL91V?autoshare=1"
                          },
                          color: "#ffbd00"
                        }
                      ],
                      backgroundColor: "#000000"
                    }
                  }
                ]
              }
            }
          ]);
          liff.closeWindow();
        } catch (err) {
          console.error("‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", err);
        }
      }

      window.onload = function () {
        liff.init({ liffId: "2007650929-ay3qL91V" }, () => {
          liff.ready.then(() => {
            if (!liff.isLoggedIn()) {
              liff.login();
            } else {
              document.getElementById("share-btn").onclick = () => {
                shareFlex();
              };

              const params = new URLSearchParams(window.location.search);
              if (params.get("autoshare") === "1") {
                shareFlex();
              }
            }
          });
        });
      };
    </script>
  </body>
</html>
