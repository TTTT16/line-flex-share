<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <title>LINE Flex Share</title>
  </head>
  <body class="flex items-center justify-center h-screen bg-gray-100">
    <button id="share-btn" class="text-white bg-green-600 hover:bg-green-700 font-bold py-3 px-6 rounded text-lg">
      ‡πÅ‡∏ä‡∏£‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏•‡∏¢
    </button>

    <script>
      async function shareFlex() {
        try {
          await liff.shareTargetPicker([
            {
              type: "flex",
              altText: "üéÅ ‡πÅ‡∏à‡∏Å‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏ü‡∏£‡∏µ 50 ‡∏ö‡∏≤‡∏ó!",
              contents: {
                type: "bubble",
                size: "giga",
                hero: {
                  type: "image",
                  size: "full",
                  url: "https://www.i-pic.info/i/5PHl1087946.png",
                  aspectRatio: "7:5",
                  aspectMode: "fit"
                },
                body: {
                  type: "box",
                  layout: "vertical",
                  spacing: "sm",
                  contents: [
                    {
                      type: "text",
                      text: "‡πÅ‡∏à‡∏Å‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï‡∏ü‡∏£‡∏µ 50 ‡∏ö‡∏≤‡∏ó",
                      wrap: true,
                      weight: "bold",
                      size: "lg",
                      gravity: "center",
                      align: "center"
                    }
                  ]
                },
                footer: {
                  type: "box",
                  layout: "vertical",
                  spacing: "sm",
                  contents: [
                    {
                      type: "button",
                      style: "primary",
                      action: {
                        type: "uri",
                        label: "‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å",
                        uri: "https://mudeng888.com/"
                      },
                      color: "#CC3333"
                    },
                    {
                      type: "button",
                      style: "secondary",
                      action: {
                        type: "uri",
                        label: "‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ / ‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°",
                        uri: "https://lin.ee/irplm0Z"
                      },
                      color: "#66CC33"
                    }
                  ],
                  backgroundColor: "#FFB90F"
                }
              }
            }
          ]);
          liff.closeWindow();
        } catch (err) {
          console.error("‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", err);
        }
      }

      window.onload = function () {
        liff.init({ liffId: "2007650929-ay3qL91V" }, () => {
          liff.ready.then(() => {
            if (!liff.isLoggedIn()) {
              liff.login();
            } else {
              // ‡πÅ‡∏ä‡∏£‡πå‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á login ‡πÄ‡∏™‡∏£‡πá‡∏à
              document.getElementById("share-btn").onclick = () => {
                shareFlex();
              };
            }
          });
        });
      };
    </script>
  </body>
</html>
